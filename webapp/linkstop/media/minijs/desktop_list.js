API_URL="/api/";api_call_id=1;function api(d,b,c){api_call_id++;var a=API_URL+d+"/";b.call_id=api_call_id;$.post(a,b,c,"json");return api_call_id}$(function(){$(".licon").each(function(){var b=$(this);var a=b.attr("id").split("_")[1];b.find("a.edit-link:first").click(function(){$(this).hide();b.children(".desc").children().hide();b.find("form").show();return false});b.find(".button.cancel").click(function(){b.children().show();b.children(".desc").children().show();b.find("form").hide();return false});b.find(".button.ok").click(function(){var c=b.find("form:first");var d={};c.find("input,textarea").each(function(f,g){var e=$(g);d[e.attr("name")]=e.val()});d.username=$("input[name=username]").val();d.desktop_slug=$("input[name=desktop_slug]").val();api("set_icon",d,function(e){});b.find("h1 a,h2 a,h3 a").text(d.name);b.find("p.notes").text(d.notes);b.find("pre").text(d.url);b.find("a.ilink").attr("href",d.url);b.children().show();b.children(".desc").children().show();b.find("form").hide()})});$("#search").keypress(function(){var a=$(this);setTimeout(function(){var b=a.val().toLowerCase();$(".licon").each(function(e,f){var d=$(f);var c=d.find("input.searchname").val().indexOf(b)!=-1;if(c){d.parentsUntil("li").parent().show()}d.toggle(c)});$(".stack-list").each(function(d,c){var e=$(c);if(e.find("li:visible").length==0){e.parent().hide()}})},20)});$(".search-box .clear-filter").click(function(){$("#search").val("");$(".licon").show()})});